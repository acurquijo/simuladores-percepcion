<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Simulador perceptivo – Dos círculos</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      text-align: center;
      padding: 20px;
    }

    canvas {
      background: white;
      margin-top: 20px;
      border: 1px solid #ccc;
    }

    .controls {
      max-width: 420px;
      margin: 25px auto;
      text-align: left;
    }

    label {
      display: block;
      margin-bottom: 15px;
      font-size: 14px;
    }

    input[type="range"] {
      width: 100%;
    }
  </style>
</head>
<body>

<h2>Simulador perceptivo – Relación entre dos círculos</h2>

<canvas id="canvas" width="400" height="300"></canvas>

<div class="controls">
  <label>
    Distancia horizontal
    <input type="range" id="distance" min="-120" max="120" value="80">
  </label>

  <label>
    Tamaño relativo (inverso)
    <input type="range" id="size" min="-50" max="50" value="0">
  </label>

  <label>
    Altura del segundo círculo
    <input type="range" id="height" min="-100" max="100" value="0">
  </label>
</div>

<script>
  const canvas = document.getElementById("canvas");
  const ctx = canvas.getContext("2d");

  const distanceSlider = document.getElementById("distance");
  const sizeSlider = document.getElementById("size");
  const heightSlider = document.getElementById("height");

  const centerX = canvas.width / 2;
  const centerY = canvas.height / 2;
  const baseRadius = 25;

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    const distance = distanceSlider.value;
    const sizeRel = sizeSlider.value / 100;
    const heightOffset = parseInt(heightSlider.value);

    // Tamaños (inversos)
    const rA = Math.max(8, baseRadius * (1 - sizeRel));
    const rB = Math.max(8, baseRadius * (1 + sizeRel));

    // Posiciones
    const xA = centerX - distance / 2;
    const yA = centerY;

    const xB = centerX + distance / 2;
    const yB = centerY + heightOffset;

    // Círculo A – referencia (gris oscuro)
    ctx.fillStyle = "#444";
    ctx.beginPath();
    ctx.arc(xA, yA, rA, 0, Math.PI * 2);
    ctx.fill();

    // Círculo B – variable (gris claro)
    ctx.fillStyle = "#aaa";
    ctx.beginPath();
    ctx.arc(xB, yB, rB, 0, Math.PI * 2);
    ctx.fill();
  }

  distanceSlider.addEventListener("input", draw);
  sizeSlider.addEventListener("input", draw);
  heightSlider.addEventListener("input", draw);

  draw();
</script>

</body>
</html>
